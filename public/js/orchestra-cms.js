jQuery(function(e){"use strict";var t,s,a,n;a=e("#title"),n=e('input[role="slug-editor"]:first'),s=new Javie.Events,t=function(e){return _.isUndefined(e)?"":"/"+e.toLowerCase().replace(/[^\w\.]+/g,"-").replace(/ +/g,"-").replace(/^-/,"").replace(/-$/,"")},s.listen("storycms.update: slug",function(e,s){e=t(e),_.isUndefined(s)&&(s=!1),(n.data("listen")===!0||s)&&n.val(e)}),""===n.val()?(n.data("listen",!0),s.fire("storycms.update: slug",[a.val(),!0])):(n.data("listen",!1),s.fire("storycms.update: slug",[n.val(),!0])),a.on("keyup",function(){s.fire("storycms.update: slug",[a.val()])}),n.on("blur",function(){s.fire("storycms.update: slug",[n.val(),!0])})});